<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>CEID Front Display</title>

	<link rel="stylesheet" href="style.css">


	<script src="https://code.jquery.com/jquery-3.1.0.js" integrity="sha256-slogkvB1K3VOkzAI8QITxV3VzpOnkeNVsKvtkYLMjfk=" crossorigin="anonymous"></script>
	<!--<script src="https://apis.google.com/js/client.js?onload=checkAuth"></script>-->

	<link href='fullcalendar-3.0.0/fullcalendar.css' rel='stylesheet' />
	<script src='fullcalendar-3.0.0/lib/moment.min.js'></script>
	<script src='fullcalendar-3.0.0/lib/jquery.min.js'></script>
	<script src='fullcalendar-3.0.0/fullcalendar.min.js'></script>
	<script src="fullcalendar-3.0.0/gcal.js"></script>
	<script>
	$(document).ready(function()
	{
		var m = moment(); // get current time

		$("div#day").text(m.format("dddd"));

		$("div#calendar-date").text(m.format("MMMM D, Y"));

		// todo change to png
		$("img.staff").attr("src", "people/" + m.day() + ".jpg");

		/* === CALENDAR SETUP === */
		$('#calendar').fullCalendar({
	        googleCalendarApiKey: 'AIzaSyBBUVw5qT6Umqzc6MBBJK1Ew2X6hz9zTVA',
	        eventSources: [
		        {
		            googleCalendarId: 'yale.edu_v5a8sdqrnsu6j112cckp6t3iu4@group.calendar.google.com',
		            color: 'green'
		        },
		        {
		        	googleCalendarId: 'yale.edu_tp5hu0imtdjbt39qnim2kd0dv0@group.calendar.google.com',
		        	color: 'blue'
		        },
		        {
		        	googleCalendarId: 'yale.edu_pj57k5d89s4ir70v87jjlps7oo@group.calendar.google.com',
		        	color: 'red'
		        }
		    ],
		    header: {
		    	left: 'title',
		    	center: '',
		    	right: ''
		    },
		    titleFormat: '[SCHEDULE]',
		    allDaySlot: false,
		    defaultView: 'agendaDay',
		    nowIndicator: true,
		    columnFormat: ' ',


		    /* page reloads during day
		     * each time it does, auto-scroll
		     *
		     * offset by two hours so that we can see a bit of the past
		     */
		    scrollTime: m.subtract(2, 'hour').format("HH:mm:ss"),

		    height: "parent",

	    });
	});

	/*var CLIENT_ID = '959383443998-6d6tefpu9jsge7j1d5s8qpvfgj0k2jfl.apps.googleusercontent.com';
	var SCOPES = ['https://www.googleapis.com/auth/drive.metadata.readonly'];


	/* === SLIDESHOW SETUP === * /
	function checkAuth() {
        gapi.auth.authorize(
          {
            'client_id': CLIENT_ID,
            'scope': SCOPES.join(' '),
            'immediate': true
          }, handleAuthResult);
        console.log('checked auth');
   	}

	function handleAuthResult(authResult) {
        if (authResult && !authResult.error) {
        	gapi.client.load('drive', 'v3', listFiles);
        } else {
          // auth error or something
        }
  	}

    function listFiles() {
        var request = gapi.client.drive.files.list({
            'pageSize': 10,
            'fields': "nextPageToken, files(id, name)"
          });

          request.execute(function(resp) {
            appendPre('Files:');
            var files = resp.files;
            if (files && files.length > 0) {
              for (var i = 0; i < files.length; i++) {
                var file = files[i];
                console.log(file.name + ' (' + file.id + ')');
              }
            } else {
              console.log('No files found.');
            }
        });
    }

    gapi.auth.authorize({client_id: CLIENT_ID, scope: SCOPES, immediate: false},
		handleAuthResult);*/
	</script>


</head>

<body>
<div id="main-wrapper">

	<div id="left-wrapper">
		<div id="date-wrapper">
			<div class="date" id="day"></div>
			<div class="date" id="calendar-date"></div>
		</div>

		<div class="staff">ON STAFF</div>

		<div id="staff-wrapper">
			<img class="staff" src="" alt="Staff Listing">
		</div>

		<div id="slideshow-wrapper">
			<img class="slideshow" src="slideshow/IMG_0281.JPG" alt="elk">
		</div>
	</div>

	<div id="calendar-padding"><div id="calendar"></div></div>
</div>

</body>
</html>